<!DOCTYPE html>

<html>

    <head>

        <meta name="MAB" content="width=device-width, initial-scale=1" charset="utf-8">
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
        <link rel="stylesheet" href="../CSS/style.css">

        <script src="https://unpkg.com/konva@2.4.2/konva.min.js"></script>
        <script src="https://rawgit.com/konvajs/greensock-plugin/master/KonvaPlugin.js"></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/2.1.2/TweenMax.min.js"></script>

        <script src="../mabGUI.js"></script>
        <script src="../JS/component.js"></script>
        <script src="../JS/place.js"></script>
        <script src="../JS/transition.js"></script>
        <script src="../JS/dependency.js"></script>
        <script src="../JS/connection.js"></script>

        <script>

            var mabGUI = null;

            function allowDrop( event )
            {
                event.preventDefault( );
            }

            function initCanvas( )
            {

                mabGUI = new MabGUI( );
                // mabGUI.test( ); // uncomment for test assembly

                document.getElementById( 'canvas' ).addEventListener( 'drop',
                    function( event )
                    {
                        let posX = event.pageX - 150;
                        let posY = event.pageY - 175;
                        mabGUI.assembly.addComponent( { x: posX, y: posY } );
                    } );

            }

        </script>

    </head>

    <body>

        <div id="canvas" class="main" ondragover="allowDrop( event )" >

            <script>initCanvas( );</script>
    
            <div class="toolbox">
    
                <div id="component" class="component" draggable="true">
                    <svg width="100" height="100">
                        <rect x="10" y="10" width="80" height="80" stroke="black" stroke-width="2" fill-opacity="0" draggable="true" />
                    </svg>
                </div>
    
            </div>

        </div>

    </body>

</html>
